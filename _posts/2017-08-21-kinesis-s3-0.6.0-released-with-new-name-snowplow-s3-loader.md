---
layout: post
title: "Kinesis S3 0.6.0 released with new name: Snowplow S3 Loader"
title-short: Snowplow S3 Loader 0.6.0
tags: [kinesis, s3, aws, nsq]
author: Enes
category: Releases
---

We are pleased to be releasing version 0.6.0 of Snowplow S3 Loader, our project dedicated to sinking data, including Snowplow raw and enriched event streams to S3. 

This post will cover:

1. [NSQ Support](/blog/2017/08/21/kinesis-s3-0.6.0-released-with-new-name-snowplow-s3-loader#nsq-support)
2. [Support for "AT_TIMESTAMP" as initial position](/blog/2017/08/21/kinesis-s3-0.6.0-released-with-new-name-snowplow-s3-loader#at-timestamp)
3. [Upgrading](/blog/2017/08/21/kinesis-s3-0.6.0-released-with-new-name-snowplow-s3-loader#upgrading)
4. [Other Updates](/blog/2017/08/21/kinesis-s3-0.6.0-released-with-new-name-snowplow-s3-loader#other-updates)
5. [Contributing](/blog/2017/08/21/kinesis-s3-0.6.0-released-with-new-name-snowplow-s3-loader#contributing)

<!--more-->

<h2 id="nsq-support">1. NSQ Support</h2>

Until this release, project's name was Kinesis S3 because this project was working only with Kinesis streams. However, with this release, we are adding NSQ as a stream source which is one step for our effort to have the Snowplow platform become cloud-agnostic. 

[NSQ] [nsq-website] is realtime distributed messaging platform. You can find detailed information about setup the NSQ in [here] [nsq-installing]. After setup the NSQ, only things you have to do is changing "source" field to the "nsq" in the config file, filling the NSQ part of the config according to the your NSQ setup and changing stream names in the config file to the your NSQ topic names. After making this changes in the config file, you can start to use the Snowplow S3 Loader with NSQ and store the data from NSQ to S3.

<h2 id="at-timestamp">2. Support for "AT_TIMESTAMP" as initial position</h2>

Before this release, there were two configuration options as initial position for Kinesis streams in the S3 Loader. These two are `TRIM_HORIZON` and `LATEST`. On the first run of the application, the Kinesis Connectors Library which is used by S3 Loader creates a DynamoDB table to keep track of what it has consumed from the stream so far. Either on first run it starts consuming from `LATEST` being the most recent record in the stream,`TRIM_HORIZON` being the oldest record available in the stream.

With this release, third option which is `AT_TIMESTAMP` is added as initial position. With `AT_TIMESTAMP` option, consuming will start from the specified timestamp. You can get more information about initial positions from [here] [kinesis-at-least-once-processing].

<h2 id="upgrading">3. Upgrading</h2>

A couple of changes have been made to how you run the Snowplow Loader.

<h3 id="jar">3.1 Non-executable JARs</h3>

From now on, the produced artifacts will be non-executable JAR files. We found that sbt-assembly, the plugin we use to build fat JARs, was producing executable but unfortunately corrupt JAR files.

As a result, you’ll now have to launch the loader like so:

`java -jar snowplow-s3-loader-0.6.0.jar --config my.config`

<h3 id="conf">3.2 Configuration changes</h3>

There have been quite a few changes made to the configuration expected by the S3 Loader. Please check out the [example configuration file] [example-config] in the repository to make sure your configuration file has the expected parameters.

<h2 id="other-updates">4. Other Updates</h2>

Version 0.6.0 also includes some internal changes and minor enhancements under the hood, including:

* Refactor to change purpose of the S3Emitter class ([#110] [110])
* Configuration decoding with case-classy ([#105] [105])

<h2 id="contributing">5. Contributing</h2>

You can check out the [repository] [repo] and the [open issues] [issues] if you’d like to get involved!


[nsq-website]: http://nsq.io
[nsq-installing]: http://nsq.io/deployment/installing.html
[kinesis-at-least-once-processing]: https://github.com/snowplow/snowplow/wiki/Kinesis-at-least-once-processing
[example-config]: https://github.com/snowplow/kinesis-s3/blob/master/examples/config.hocon.sample
[110]: https://github.com/snowplow/kinesis-s3/issues/110
[105]: https://github.com/snowplow/kinesis-s3/issues/105
[repo]: https://github.com/snowplow/kinesis-s3
[issues]: https://github.com/snowplow/kinesis-s3/issues